!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Orderly",[],t):"object"==typeof exports?exports.Orderly=t():e.Orderly=t()}(this,function(){return function(e){function __webpack_require__(r){if(t[r])return t[r].exports;var n=t[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.p="",__webpack_require__(0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";e.exports=r(2)},function(e,t,r){"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(3),u=r(4),a=_interopRequireDefault(u),c=r(12),s=_interopRequireWildcard(c),f=r(26),l=_interopRequireWildcard(f),d=r(40),p=_interopRequireWildcard(d),y=function(){function Orderly(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,Orderly),this.options=e}return i(Orderly,[{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Orderly(n({},this.options,e))}},{key:"after",value:function(e){if("function"!=typeof e)throw"Invalid Function Call #after";return this.options.after=e,this}},{key:"before",value:function(e){if("function"!=typeof e)throw"Invalid Function Call #before";return this.options.before=e,this}},{key:"ajax",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw"Invalid URL: url is undefined";var r=new a["default"](e,Object.assign({},this.options,t)),n=s.init(r.execute,t.priority);return l.addJob(Orderly.queue,n),r}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.ajax(e,Object.assign(t,{method:"GET"}))}},{key:"post",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.ajax(e,Object.assign(t,{method:"POST"}))}},{key:"put",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.ajax(e,Object.assign(t,{method:"PUT"}))}},{key:"del",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.ajax(e,Object.assign(t,{method:"DELETE"}))}}]),Orderly}();y.debugMode=function(e){return(0,o.setMode)(e),this},y.queue=void 0,y.worker=void 0,y.global=void 0,y.start=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.max,r=e.sleep;return this.worker||(this.queue=l.init(),this.worker=p.init(this.queue,{max:t,sleep:r}),this["default"]=new y),p.start(this.worker),this["default"]},y.pause=function(){this.worker&&p.stop(this.worker)},y.stop=function(){this.pause(),this.queue=this.worker=this["default"]=void 0},t["default"]=y},function(e,t){"use strict";function setMode(e){return n=e}function getMode(){return n}function log(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n){var o=Object.keys(i).reduce(function(e,t){var n=i[t];return"object"===("undefined"==typeof n?"undefined":r(n))&&(n=JSON.stringify(n)),e+" "+t+":"+n},e);o=o+" "+t,console.log(o)}}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=!1;t.setMode=setMode,t.getMode=getMode,t.log=log},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _objectWithoutProperties(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function abortResponse(e,t){var r;return r={},_defineProperty(r,f.VERSION_KEY,e),_defineProperty(r,"aborted",!0),_defineProperty(r,"sent",t),r}function conditionMet(e,t){return"function"==typeof e&&e(t)}function shouldSkip(e,t,r){return e!==!1&&(p["default"].isOutdated(r,"sent")||conditionMet(t))}function shouldCancel(e,t,r,n){if(p["default"].isOutdated(r,"received")||conditionMet(t,e)){var i=abortResponse(r,!0);throw i}}function appendVersion(e,t){e[f.VERSION_KEY]=t}function initHeader(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],r=arguments[2];return Object.assign(e,a["default"].accepts(r),a["default"].contentType(t,r))}function initBody(e,t){return!e||"object"!==("undefined"==typeof e?"undefined":i(e))&&"json"!==t?e:JSON.stringify(e)}function initRequest(e,t){var r=t.before,n=t.headers,i=t.body,o=t.type,u=_objectWithoutProperties(t,["before","headers","body","type"]);return u.headers=initHeader(n,i,o),u.body=initBody(i,o),r&&r(u),u}function initAction(e,t,r,n){var i=(n.type,n.priority),u=n.skip;return function(n){if(shouldSkip(u,n,r)){var a=abortResponse(r,!1);return Promise.reject(a)}return r.sent(),(0,l.debugLogger)("SENT",r,i),fetch(e,t).then((0,o.proxy)(shouldCancel,n,r,i)).then((0,o.proxy)(r.received)).then((0,o.proxy)(appendVersion,r)).then(s["default"].contentType)}}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r(5),u=r(6),a=_interopRequireDefault(u),c=r(7),s=_interopRequireDefault(c),f=r(8),l=r(9),d=r(10),p=_interopRequireDefault(d),y=function(){function Ajax(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.after,i=r.version,u=_objectWithoutProperties(r,["after","version"]);_classCallCheck(this,Ajax),b.call(this),i=new p["default"](e,i);var a=initRequest(e,u),c=initAction(e,a,i,u);this.q=new Promise(function(e,r){t.execute=function(a){return c(t.abortCondition).then((0,o.proxy)(a),(0,o.catchProxy)(a)).then((0,o.proxy)(n)).then(t.__done__).then(e)["catch"](t.__abort__(i,u))["catch"](r).then(t.__cleanup__)}}),(0,l.debugLogger)("CREATED",i,u.priority)}return n(Ajax,[{key:"abort",value:function(e){return this.abortCallback=e,this}},{key:"abortWhen",value:function(e){return this.abortCondition=e,this}},{key:"catch",value:function(e){return this.q=this.q["catch"](e),this}},{key:"fail",value:function(e){return this.then((0,o.onFail)(e))}},{key:"success",value:function(e){return this.then((0,o.onSuccess)(e))}},{key:"then",value:function(e){return this.q=this.q.then(e),this}}]),Ajax}(),b=function(){var e=this;this.__done__=function(t){return e.q=Promise.resolve(t)},this.__cleanup__=function(){e.execute=e.abortCallback=e.abortCondition=void 0},this.__abort__=function(t,r){var n=r.priority;return function(r){if(!r.aborted)throw r;(0,l.debugLogger)("ABORTED",t,n),"function"==typeof e.abortCallback&&e.abortCallback(r)}}};t["default"]=y},function(e,t){"use strict";function proxy(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e?function(t){return e.apply(void 0,[t].concat(r)),t}:function(e){return e}}function catchProxy(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e?function(t){throw e.apply(void 0,[t].concat(r)),t}:function(e){throw e}}function conditionalProxy(e,t){return function(r){return t(r)&&e(r),r}}function onFail(e){return conditionalProxy(e,function(e){return e&&e.status>=400})}function onSuccess(e){return conditionalProxy(e,function(e){return e&&e.status<400})}Object.defineProperty(t,"__esModule",{value:!0}),t.proxy=proxy,t.catchProxy=catchProxy,t.conditionalProxy=conditionalProxy,t.onFail=onFail,t.onSuccess=onSuccess},function(e,t){"use strict";function accepts(e){if("json"===e)return{Accept:"application/json"}}function contentType(e,t){if("object"===("undefined"==typeof e?"undefined":r(e))||"json"===t)return{"Content-Type":"application/json"}}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t["default"]={contentType:contentType,accepts:accepts}},function(e,t){"use strict";function getContentType(e){var t=e.headers.get("Content-Type");return t&&t.includes("application/json")?"json":"text"}function includeDataType(e){return e._t=getContentType(e),e}function convertDataType(e){return e[e._t]()}function includeAsData(e){return function(t){return e.data=t,e}}function contentType(e){return Promise.resolve(e).then(includeDataType).then(convertDataType).then(includeAsData(e))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={contentType:contentType}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="statusText",n="skipped",i="cancelled",o="_v";t.STATUS_KEY=r,t.STATUS_SKIP=n,t.STATUS_CANCEL=i,t.VERSION_KEY=o},function(e,t,r){"use strict";function debugLogger(e,t,r){var i=t.id,o=t.key;(0,n.log)("Orderly",e,{url:o,id:i,priority:r})}Object.defineProperty(t,"__esModule",{value:!0}),t.debugLogger=void 0;var n=r(3);t.debugLogger=debugLogger},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(11),o=function(){function Version(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,Version),this.sent=function(){return Version.sent(t)},this.received=function(){return Version.received(t)},this.check=r!==!1,this.key=r.name||(r.filterParams?(0,i.filterParams)(e):e),this.id=Version.inc(this.key)}return n(Version,null,[{key:"isOutdated",value:function(e,t){return e.check&&this.get(e.key)[t]>e.id}},{key:"sent",value:function(e){var t=this.get(e.key);if(e.id>t.sent)return t.sent=e.id}},{key:"received",value:function(e){var t=this.get(e.key);if(e.id>t.received)return t.received=e.id}}]),Version}();o.map={},o.get=function(e){return this.map[e]||(this.map[e]={counter:0,sent:0,received:0})},o.inc=function(e){return this.get(e).counter+=1},t["default"]=o},function(e,t){"use strict";function filterParams(e){return e.split("?")[0]}Object.defineProperty(t,"__esModule",{value:!0});new RegExp(/\?.*$/);t.filterParams=filterParams},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(13);Object.defineProperty(t,"id",{enumerable:!0,get:function(){return n.id}});var i=r(14);Object.defineProperty(t,"init",{enumerable:!0,get:function(){return i.init}});var o=r(24);Object.defineProperty(t,"priority",{enumerable:!0,get:function(){return o.priority}});var u=r(25);Object.defineProperty(t,"run",{enumerable:!0,get:function(){return u.run}})},function(e,t){"use strict";function id(e){var t=e.queueId;return t}Object.defineProperty(t,"__esModule",{value:!0}),t.id=id},function(e,t,r){"use strict";function init(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!(0,n.isFunction)(e))throw i.missingExecute;return{execute:e,priority:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.init=init;var n=r(15),i=r(23)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(16);Object.defineProperty(t,"asyncCall",{enumerable:!0,get:function(){return n.asyncCall}});var i=r(17);Object.defineProperty(t,"equal",{enumerable:!0,get:function(){return i.equal}});var o=r(18);Object.defineProperty(t,"exist",{enumerable:!0,get:function(){return o.exist}});var u=r(19);Object.defineProperty(t,"pipe",{enumerable:!0,get:function(){return u.pipe}});var a=r(20);Object.defineProperty(t,"isFunction",{enumerable:!0,get:function(){return a.isFunction}});var c=r(21);Object.defineProperty(t,"isObject",{enumerable:!0,get:function(){return c.isObject}});var s=r(22);Object.defineProperty(t,"lessThan",{enumerable:!0,get:function(){return s.lessThan}})},function(e,t){"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function asyncCall(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return setTimeout.apply(void 0,[e,t].concat(_toConsumableArray(r)))}Object.defineProperty(t,"__esModule",{value:!0}),t.asyncCall=asyncCall},function(e,t){"use strict";function equal(e,t){return e===t}Object.defineProperty(t,"__esModule",{value:!0}),t.equal=equal},function(e,t){"use strict";function exist(e){return null!=e}Object.defineProperty(t,"__esModule",{value:!0}),t.exist=exist},function(e,t){"use strict";function _toArray(e){return Array.isArray(e)?e:Array.from(e)}function nest(e,t){return function(r){return e(t(r))}}function immediateReturn(e){return e}function buildPipe(e){var t=_toArray(e),r=t[0],n=t.slice(1),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:immediateReturn;return r?buildPipe(n,nest(r,i)):i}function pipe(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return buildPipe(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.pipe=pipe},function(e,t){"use strict";function isFunction(e){return"function"==typeof e}Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=isFunction},function(e,t){"use strict";function isObject(e){return"object"===("undefined"==typeof e?"undefined":r(e))}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.isObject=isObject},function(e,t){"use strict";function lessThan(e,t){return e<t}Object.defineProperty(t,"__esModule",{value:!0}),t.lessThan=lessThan},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.error=new TypeError("Missing execution function")},function(e,t){"use strict";function priority(e){var t=e.priority,r=void 0===t?0:t;return r}Object.defineProperty(t,"__esModule",{value:!0}),t.priority=priority},function(e,t){"use strict";function run(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.execute.apply(null,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.run=run},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(27);Object.defineProperty(t,"init",{enumerable:!0,get:function(){return n.init}});var i=r(33);Object.defineProperty(t,"addJob",{enumerable:!0,get:function(){return i.addJob}});var o=r(35);Object.defineProperty(t,"getJob",{enumerable:!0,get:function(){return o.getJob}});var u=r(36);Object.defineProperty(t,"hasJob",{enumerable:!0,get:function(){return u.hasJob}});var a=r(37);Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return a.isEmpty}});var c=r(38);Object.defineProperty(t,"size",{enumerable:!0,get:function(){return c.size}});var s=r(39);Object.defineProperty(t,"trim",{enumerable:!0,get:function(){return s.trim}})},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function init(){return{q:new i["default"](o.sortStrategy),counter:0}}Object.defineProperty(t,"__esModule",{value:!0}),t.init=init;var n=r(28),i=_interopRequireDefault(n),o=r(30)},function(e,t,r){(function(e){"use strict";function FastPriorityQueue(e){this.array=[],this.size=0,this.compare=e||t}var t=function(e,t){return e<t};FastPriorityQueue.prototype.add=function(e){var t=this.size;for(this.array[this.size++]=e;t>0;){var r=t-1>>1,n=this.array[r];if(!this.compare(e,n))break;this.array[t]=n,t=r}this.array[t]=e},FastPriorityQueue.prototype.heapify=function(e){this.array=e,this.size=e.length;for(var t=this.size>>1;t>=0;t--)this._percolateDown(t)},FastPriorityQueue.prototype._percolateUp=function(e){for(var t=this.array[e];e>0;){var r=e-1>>1,n=this.array[r];if(!this.compare(t,n))break;this.array[e]=n,e=r}this.array[e]=t},FastPriorityQueue.prototype._percolateDown=function(e){for(var t=this.size,r=this.size>>>1,n=this.array[e];e<r;){var i=(e<<1)+1,o=i+1,u=this.array[i];if(o<t&&this.compare(this.array[o],u)&&(i=o,u=this.array[o]),!this.compare(u,n))break;this.array[e]=u,e=i}this.array[e]=n},FastPriorityQueue.prototype.peek=function(e){return this.array[0]},FastPriorityQueue.prototype.poll=function(e){var t=this.array[0];return this.size>1?(this.array[0]=this.array[--this.size],this._percolateDown(0)):--this.size,t},FastPriorityQueue.prototype.trim=function(){this.array=this.array.slice(0,this.size)},FastPriorityQueue.prototype.isEmpty=function(e){return 0==this.size};var n=function(){var e=new FastPriorityQueue(function(e,t){return e<t});for(e.add(1),e.add(0),e.add(5),e.add(4),e.add(3);!e.isEmpty();)console.log(e.poll())};r.c[0]===e&&n(),e.exports=FastPriorityQueue}).call(t,r(29)(e))},function(e,t){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,r){"use strict";function sortStrategy(e,t){return(0,n.sortedByID)(e,t)||(0,i.sortedByPriority)(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.sortStrategy=sortStrategy;var n=r(31),i=r(32)},function(e,t,r){"use strict";function sortedByID(e,t){return(0,i.equal)((0,n.priority)(e),(0,n.priority)(t))&&(0,i.lessThan)((0,n.id)(e),(0,n.id)(t))}Object.defineProperty(t,"__esModule",{value:!0}),t.sortedByID=sortedByID;var n=r(12),i=r(15)},function(e,t,r){"use strict";function sortedByPriority(e,t){return(0,i.lessThan)((0,n.priority)(t),(0,n.priority)(e))}Object.defineProperty(t,"__esModule",{value:!0}),t.sortedByPriority=sortedByPriority;var n=r(12),i=r(15)},function(e,t,r){"use strict";function addJob(e,t){return t.queueId=e.counter=(0,i.tick)(e),t.priority=(0,n.priority)(t),e.q.add(t),e}Object.defineProperty(t,"__esModule",{value:!0}),t.addJob=addJob;var n=r(12),i=r(34)},function(e,t){"use strict";function tick(e){var t=e.counter,r=void 0===t?0:t;return r+1}Object.defineProperty(t,"__esModule",{value:!0}),t.tick=tick},function(e,t){"use strict";function getJob(e){return e.q.poll()}Object.defineProperty(t,"__esModule",{value:!0}),t.getJob=getJob},function(e,t,r){"use strict";function hasJob(e){return!(0,n.isEmpty)(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.hasJob=hasJob;var n=r(37)},function(e,t){"use strict";function isEmpty(e){return e.q.isEmpty()}Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=isEmpty},function(e,t){"use strict";function size(e){return e.q.size}Object.defineProperty(t,"__esModule",{value:!0}),t.size=size},function(e,t){"use strict";function trim(e){return e.q.trim()}Object.defineProperty(t,"__esModule",{value:!0}),t.trim=trim},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(41);Object.defineProperty(t,"init",{enumerable:!0,get:function(){return n.init}});var i=r(42);Object.defineProperty(t,"start",{enumerable:!0,get:function(){return i.start}});var o=r(49);Object.defineProperty(t,"stop",{enumerable:!0,get:function(){return o.stop}})},function(e,t){"use strict";function init(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.sleep,n=void 0===r?32:r,i=t.max,o=void 0===i?8:i;if(!e)throw new TypeError("Missing queue");return{queue:e,sleep:n,max:o,pending:0,"continue":!0}}Object.defineProperty(t,"__esModule",{value:!0}),t.init=init},function(e,t,r){"use strict";function start(e){return(0,o.sleep)((0,n.cleanup)((0,i.poll)(e)),start)}Object.defineProperty(t,"__esModule",{value:!0}),t.start=start;var n=r(43),i=r(44),o=r(48)},function(e,t,r){"use strict";function cleanup(e){return(0,n.trim)(e.queue),e}Object.defineProperty(t,"__esModule",{value:!0}),t.cleanup=cleanup;var n=r(26)},function(e,t,r){"use strict";function poll(e){for(var t=e.queue;(0,i.available)(e)&&(0,n.hasJob)(t);){var r=(0,n.getJob)(t),a=(0,u.increasePending)(e);(0,o.execute)([r,a])}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.poll=poll;var n=(r(12),r(26)),i=r(45),o=r(46),u=r(47)},function(e,t,r){"use strict";function available(e){return(0,n.lessThan)(e.pending,e.max)}Object.defineProperty(t,"__esModule",{value:!0}),t.available=available;var n=r(15)},function(e,t,r){"use strict";function execute(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,n.asyncCall)(i.run,0,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.execute=execute;var n=r(15),i=r(12)},function(e,t){"use strict";function increasePending(e){return e.pending=(e.pending||0)+1,function(){e.pending-=1}}Object.defineProperty(t,"__esModule",{value:!0}),t.increasePending=increasePending},function(e,t,r){"use strict";function sleep(e,t){return e["continue"]&&(e.next=(0,n.asyncCall)(t,e.sleep,[e])),e}Object.defineProperty(t,"__esModule",{value:!0}),t.sleep=sleep;var n=r(15)},function(e,t,r){"use strict";function stop(e){return(0,i.discontinue)((0,n.clearNext)(e))}Object.defineProperty(t,"__esModule",{value:!0}),t.stop=stop;var n=r(50),i=r(51)},function(e,t){"use strict";function clearNext(e){return e.next=clearTimeout(e.next),e}Object.defineProperty(t,"__esModule",{value:!0}),t.clearNext=clearNext},function(e,t){"use strict";function discontinue(e){return e["continue"]=!1,e}Object.defineProperty(t,"__esModule",{value:!0}),t.discontinue=discontinue}])});
//# sourceMappingURL=index.js.map