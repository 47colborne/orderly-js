{"version":3,"file":"index.js","sources":["webpack:///webpack/bootstrap 75aa649b6dae5ec598ff","webpack:///src/orderly/lib/index.js","webpack:///src/orderly/job/index.js","webpack:///src/orderly/queue/index.js","webpack:///src/orderly/debug.js","webpack:///src/orderly/lib/isFunction.js","webpack:///src/index.js","webpack:///src/orderly/ajax/callbacks.js","webpack:///src/orderly/ajax/constants.js","webpack:///src/orderly/ajax/index.js","webpack:///src/orderly/ajax/misc.js","webpack:///src/orderly/ajax/request.js","webpack:///src/orderly/ajax/response.js","webpack:///src/orderly/ajax/url.js","webpack:///src/orderly/ajax/version.js","webpack:///src/orderly/index.js","webpack:///src/orderly/job/id.js","webpack:///src/orderly/job/init.js","webpack:///src/orderly/job/initCounter.js","webpack:///src/orderly/job/priority.js","webpack:///src/orderly/job/run.js","webpack:///src/orderly/lib/asyncCall.js","webpack:///src/orderly/lib/equal.js","webpack:///src/orderly/lib/exist.js","webpack:///src/orderly/lib/isObject.js","webpack:///src/orderly/lib/lessThan.js","webpack:///src/orderly/lib/pipe.js","webpack:///src/orderly/queue/addJob.js","webpack:///src/orderly/queue/compare.js","webpack:///src/orderly/queue/getJob.js","webpack:///src/orderly/queue/hasJob.js","webpack:///src/orderly/queue/init.js","webpack:///src/orderly/queue/isEmpty.js","webpack:///src/orderly/queue/trim.js","webpack:///src/orderly/worker/available.js","webpack:///src/orderly/worker/cleanup.js","webpack:///src/orderly/worker/clearNext.js","webpack:///src/orderly/worker/discontinue.js","webpack:///src/orderly/worker/execute.js","webpack:///src/orderly/worker/increasePending.js","webpack:///src/orderly/worker/index.js","webpack:///src/orderly/worker/init.js","webpack:///src/orderly/worker/poll.js","webpack:///src/orderly/worker/sleep.js","webpack:///src/orderly/worker/start.js","webpack:///src/orderly/worker/stop.js","webpack:///../~/fastpriorityqueue/FastPriorityQueue.js","webpack:///../~/webpack/buildin/module.js"],"sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 47);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 75aa649b6dae5ec598ff","export { asyncCall } from './asyncCall'\nexport { equal } from './equal'\nexport { exist } from './exist'\nexport { pipe } from './pipe'\nexport { isFunction } from './isFunction'\nexport { isObject } from './isObject'\nexport { lessThan } from './lessThan'\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/lib/index.js","export { id } from './id'\nexport { init } from './init'\nexport { priority } from './priority'\nexport { run } from './run'\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/job/index.js","export { init } from './init'\nexport { addJob } from './addJob'\nexport { getJob } from './getJob'\nexport { hasJob } from './hasJob'\nexport { trim } from './trim'\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/queue/index.js","let mode = false\n\nfunction setMode(boolean) {\n  return mode = boolean\n}\n\nfunction getMode() {\n  return mode\n}\n\nfunction log(klass, action, args = {}) {\n  if (mode) {\n    let msg = Object.keys(args).reduce((msg, key) => {\n      let value = args[key]\n      if (typeof value === 'object') value = JSON.stringify(value)\n      return `${ msg } ${ key }:${ value }`\n    }, klass)\n\n    msg = msg + ' ' + action\n\n    console.log(msg)\n  }\n}\n\nexport { setMode, getMode, log }\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/debug.js","export function isFunction(arg) {\n  return typeof arg === 'function'\n}\n\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/lib/isFunction.js","module.exports = require('./orderly')\n\n\n\n// WEBPACK FOOTER //\n// src/index.js","function proxy(callback, ...args) {\n  if (!callback) {\n    return function(resp) {\n      return resp\n    }\n  } else {\n    return function(resp) {\n      callback(resp, ...args)\n      return resp\n    }\n  }\n}\n\nfunction catchProxy(callback, ...args) {\n  if (!callback) {\n    return function(err) {\n      throw(err)\n    }\n  } else {\n    return function(err) {\n      callback(err, ...args)\n      throw(err)\n    }\n  }\n}\n\nfunction conditionalProxy(callback, condition) {\n  return function(resp) {\n    if (condition(resp)) callback(resp)\n    return resp\n  }\n}\n\nfunction onFail(callback) {\n  return conditionalProxy(callback, resp => resp && resp.status >= 400)\n}\n\nfunction onSuccess(callback) {\n  return conditionalProxy(callback, resp => resp && resp.status < 400)\n}\n\nexport { proxy, catchProxy, conditionalProxy, onFail, onSuccess }\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/ajax/callbacks.js","const STATUS_KEY =  'statusText'\nconst STATUS_SKIP =  'skipped'\nconst STATUS_CANCEL =  'cancelled'\nconst VERSION_KEY =  '_v'\n\nexport { STATUS_KEY, STATUS_SKIP, STATUS_CANCEL, VERSION_KEY }\n\n\n// WEBPACK FOOTER //\n// src/orderly/ajax/constants.js","import { onSuccess, onFail, proxy, catchProxy } from './callbacks'\n\nimport request from './request'\nimport response from './response'\n\nimport { STATUS_KEY, STATUS_SKIP, STATUS_CANCEL, VERSION_KEY } from './constants'\nimport { debugLogger } from './misc'\n\nimport Version from './version'\n\nfunction abortResponse(version, sent) {\n  return {\n    [VERSION_KEY]: version,\n    aborted: true,\n    sent: sent\n  }\n}\n\nfunction conditionMet(condition, arg) {\n  return (typeof condition === 'function') && condition(arg)\n}\n\nfunction shouldSkip(skip, condition, version) {\n  return skip !== false && (Version.isOutdated(version, 'sent') || conditionMet(condition))\n}\n\nfunction shouldCancel(resp, condition, version, priority) {\n  if (Version.isOutdated(version, 'received') || conditionMet(condition, resp)) {\n    let resp = abortResponse(version, true)\n    throw(resp)\n  }\n}\n\nfunction appendVersion(resp, value) {\n  resp[VERSION_KEY] = value\n}\n\nfunction initHeader(headers = {}, body, type) {\n  return Object.assign(\n    headers,\n    request.accepts(type),\n    request.contentType(body, type)\n  )\n}\n\nfunction initBody(body, type) {\n  return body && (typeof body === 'object' || type === 'json') ? JSON.stringify(body) : body\n}\n\nfunction initRequest(url, { before, headers, body, type, ...options }) {\n  options.headers = initHeader(headers, body, type)\n  options.body = initBody(body, type)\n\n  if (before) before(options)\n\n  return options\n}\n\nfunction initAction(url, request, version, { type, priority, skip }) {\n  return function(condition) {\n    if (shouldSkip(skip, condition, version)) {\n      let resp = abortResponse(version, false)\n      return Promise.reject(resp)\n    }\n\n    version.sent()\n    debugLogger('SENT', version, priority)\n\n    return fetch(url, request)\n      .then(proxy(shouldCancel, condition, version, priority))\n      .then(proxy(version.received))\n      .then(proxy(appendVersion, version))\n      .then(response.contentType)\n  }\n}\n\nclass Ajax {\n  constructor(url, { after, version, ...options } = {}) {\n    version = new Version(url, version)\n    let request = initRequest(url, options)\n    let action = initAction(url, request, version, options)\n\n    this.q = new Promise((resolve, reject) => {\n      this.execute = (callback) => {\n        return action(this.abortCondition)\n          .then(proxy(callback), catchProxy(callback))\n          .then(proxy(after))\n          .then(this.__done__)\n          .then(resolve)\n          .catch(this.__abort__(version, options))\n          .catch(reject)\n          .then(this.__cleanup__)\n      }\n    })\n\n    debugLogger('CREATED', version, options.priority)\n  }\n\n  __done__ = (resp) => {\n    return this.q = Promise.resolve(resp)\n  }\n\n  __cleanup__ = () => {\n    this.execute = this.abortCallback = this.abortCondition = undefined\n  }\n\n  __abort__ = (version, { priority }) => {\n    return (err) => {\n      if (err.aborted) {\n        debugLogger('ABORTED', version, priority)\n        if (typeof this.abortCallback === 'function')\n          this.abortCallback(err)\n      } else {\n        throw(err)\n      }\n    }\n  }\n\n  abort(callback) {\n    this.abortCallback = callback\n    return this\n  }\n\n  abortWhen(callback) {\n    this.abortCondition = callback\n    return this\n  }\n\n  catch(callback) {\n    this.q = this.q.catch(callback)\n    return this\n  }\n\n  fail(callback) {\n    return this.then(onFail(callback))\n  }\n\n  success(callback) {\n    return this.then(onSuccess(callback))\n  }\n\n  then(callback) {\n    this.q = this.q.then(callback)\n    return this\n  }\n}\n\nexport default Ajax\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/ajax/index.js","import { log } from '../debug'\n\nfunction debugLogger(action, { id, key: url }, priority) {\n  log('Orderly', action, { url, id, priority })\n}\n\nexport { debugLogger }\n\n\n// WEBPACK FOOTER //\n// src/orderly/ajax/misc.js","function accepts(type) {\n  if (type === 'json')\n    return { 'Accept': 'application/json' }\n}\n\nfunction contentType(body, type) {\n  if (typeof body === 'object' || type === 'json')\n    return { 'Content-Type': 'application/json' }\n}\n\nexport default { contentType, accepts }\n\n\n// WEBPACK FOOTER //\n// src/orderly/ajax/request.js","function getContentType(resp) {\n  let ct = resp.headers.get('Content-Type')\n\n  if (ct && ct.includes('application/json')) {\n    return 'json'\n  }\n\n  return 'text'\n}\n\nfunction includeDataType(resp) {\n  resp['_t'] = getContentType(resp)\n  return resp\n}\n\nfunction convertDataType(resp) {\n  return resp[resp._t]()\n}\n\nfunction includeAsData(resp) {\n  return function(data) {\n    resp['data'] = data\n    return resp\n  }\n}\n\nfunction contentType(resp) {\n  return Promise.resolve(resp)\n    .then(includeDataType)\n    .then(convertDataType)\n    .then(includeAsData(resp))\n}\n\nexport default { contentType }\n\n\n// WEBPACK FOOTER //\n// src/orderly/ajax/response.js","const PARAMS_FORMAT = new RegExp(/\\?.*$/);\n\nfunction filterParams(url) {\n  return url.split('?')[0]\n}\n\nexport { filterParams }\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/ajax/url.js","import { filterParams } from './url'\n\nclass Version {\n\n  static map = {}\n\n  static get = function(key) {\n    return this.map[key] || (this.map[key] = { counter: 0, sent: 0, received: 0 })\n  }\n\n  static inc = function(key) {\n    return this.get(key).counter += 1\n  }\n\n  static isOutdated(version, action) {\n    return version.check && this.get(version.key)[action] > version.id\n  }\n\n  static sent(version) {\n    let record = this.get(version.key)\n    if (version.id > record.sent) {\n      return record.sent = version.id\n    }\n  }\n\n  static received(version) {\n    let record = this.get(version.key)\n    if (version.id > record.received) {\n      return record.received = version.id\n    }\n  }\n\n  constructor(url, options = {}) {\n    this.check = options !== false\n    this.key = options.name || (options.filterParams ? filterParams(url) : url)\n    this.id = Version.inc(this.key)\n  }\n\n  sent = () => Version.sent(this)\n\n  received = () => Version.received(this)\n}\n\nexport default Version\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/ajax/version.js","import { setMode } from './debug'\n\nimport Ajax from './ajax'\nimport * as Job from './job'\nimport * as Queue from './queue'\nimport * as Worker from './worker'\n\nclass Orderly {\n\n  // ============================================\n  // SET DEBUG MODE\n  // ============================================\n\n  static debugMode = function(bool) {\n    setMode(bool)\n    return this\n  }\n\n  // ============================================\n  // CLASS SHARED VERIABLES\n  // ============================================\n\n  static queue = undefined\n\n  static worker = undefined\n\n  static global = undefined\n\n  // ============================================\n  // CLASS FUNCTIONS\n  // ============================================\n\n  static start = function({ max, sleep } = {}) {\n    if (!this.worker) {\n      this.queue = Queue.init()\n      this.worker = Worker.init(this.queue, { max, sleep })\n      this.default = new Orderly()\n    }\n    Worker.start(this.worker)\n    return this.default\n  }\n\n  static pause = function() {\n    if (this.worker) Worker.stop(this.worker)\n  }\n\n  static stop = function() {\n    this.pause()\n    this.queue = this.worker = this.default = undefined\n  }\n\n  // ============================================\n  // PUBLIC INTERFACE\n  // ============================================\n\n  constructor(options = {}) {\n    this.options = options\n  }\n\n  withOptions(options = {}) {\n    return new Orderly({ ...this.options, ...options })\n  }\n\n  after(callback) {\n    if (typeof callback !== 'function') throw (\"Invalid Function Call #after\")\n    this.options.after = callback\n    return this\n  }\n\n  before(callback) {\n    if (typeof callback !== 'function') throw (\"Invalid Function Call #before\")\n    this.options.before = callback\n    return this\n  }\n\n  ajax(url, options = {}) {\n    if (!url) throw \"Invalid URL: url is undefined\"\n\n    let req = new Ajax(url, Object.assign({}, this.options, options))\n    let job = Job.init(req.execute, options.priority)\n\n    Queue.addJob(Orderly.queue, job)\n\n    return req\n  }\n\n  get(url, options = {}) {\n    return this.ajax(url, Object.assign(options, { method: 'GET' }))\n  }\n\n  post(url, options = {}) {\n    return this.ajax(url, Object.assign(options, { method: 'POST' }))\n  }\n\n  put(url, options = {}) {\n    return this.ajax(url, Object.assign(options, { method: 'PUT' }))\n  }\n\n  del(url, options = {}) {\n    return this.ajax(url, Object.assign(options, { method: 'DELETE' }))\n  }\n}\n\nexport default Orderly\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/index.js","export function id({ id }) {\n  return id\n}\n\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/job/id.js","import { isFunction } from '../lib'\nimport { initCounter } from './initCounter'\n\nlet ticker = initCounter()\n\nexport function init(execute, priority = 0) {\n  return { execute, priority, id: ticker() }\n}\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/job/init.js","export function initCounter() {\n  let counter = 0\n  return function() {\n    return counter += 1\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/job/initCounter.js","export function priority({ priority = 0 }) {\n  return priority\n}\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/job/priority.js","export function run(job, ...args) {\n  return job.execute.apply(null, args)\n}\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/job/run.js","export function asyncCall(fun, time, args = []) {\n  return setTimeout(fun, time, ...args)\n}\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/lib/asyncCall.js","export function equal(x, y) {\n  return x === y\n}\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/lib/equal.js","export function exist(obj) {\n  return obj != null\n}\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/lib/exist.js","export function isObject(arg) {\n  return typeof arg === 'object'\n}\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/lib/isObject.js","export function lessThan(x, y) {\n  return x < y\n}\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/lib/lessThan.js","import { isFunction } from './isFunction'\n\nexport function pipe(fn, ...args) {\n  let result = isFunction(fn) ? fn.apply(null, args) : fn\n  let pipe = buildNextPipe(result)\n  let end = buildEnd(result)\n  return { fn, result, pipe, end }\n}\n\nfunction buildNextPipe(result) {\n  return function(fn, ...args) {\n    args.unshift(result)\n    args.unshift(fn)\n    return pipe.apply(null, args)\n  }\n}\n\nfunction buildEnd(result) {\n  return function() {\n    return result\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/lib/pipe.js","export function addJob(queue, job) {\n  queue.q.add(job)\n  return queue\n}\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/queue/addJob.js","import { id, priority as p } from '../job'\nimport { equal as eq, lessThan as lt } from '../lib'\n\nexport function compare(x, y) {\n  return (eq(p(x), p(y)) && lt(id(x), id(y))) || lt(p(y), p(x))\n}\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/queue/compare.js","export function getJob(queue) {\n  return queue.q.poll()\n}\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/queue/getJob.js","import { isEmpty } from './isEmpty'\n\nexport function hasJob(queue) {\n  return !isEmpty(queue)\n}\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/queue/hasJob.js","import FastPriorityQueue from 'fastpriorityqueue'\nimport { compare } from './compare'\n\nexport function init() {\n  let q = new FastPriorityQueue(compare)\n  return { q }\n}\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/queue/init.js","export function isEmpty(queue) {\n  return queue.q.isEmpty()\n}\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/queue/isEmpty.js","export function trim(queue) {\n  return queue.q.trim()\n}\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/queue/trim.js","import { lessThan } from '../lib'\n\nexport function available(worker) {\n  return lessThan(worker.pending, worker.max)\n}\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/worker/available.js","import { trim } from '../queue'\n\nexport function cleanup(worker) {\n  trim(worker.queue)\n  return worker\n}\n\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/worker/cleanup.js","export function clearNext(worker) {\n  worker.next = clearTimeout(worker.next)\n  return worker\n}\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/worker/clearNext.js","export function discontinue(worker) {\n  worker.continue = false\n  return worker\n}\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/worker/discontinue.js","import { asyncCall } from '../lib'\nimport { run } from '../job'\n\nexport function execute(args = []) {\n  asyncCall(run, 0, args)\n}\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/worker/execute.js","export function increasePending(worker) {\n  worker.pending = (worker.pending || 0) + 1\n  return function() { worker.pending -= 1 }\n}\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/worker/increasePending.js","export { init } from './init'\nexport { start } from './start'\nexport { stop } from './stop'\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/worker/index.js","export function init(queue, { sleep = 32, max = 8 } = {}) {\n  if (!queue) throw new TypeError(\"Missing queue\")\n\n  return {\n    queue, sleep, max,\n    pending: 0,\n    continue: true\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/worker/init.js","import { hasJob, getJob } from '../queue'\nimport { available } from './available'\nimport { execute } from './execute'\nimport { increasePending } from './increasePending'\n\nexport function poll(worker) {\n  let queue = worker.queue\n  while (available(worker) && hasJob(queue)) {\n    let job = getJob(queue)\n    let decreasePending = increasePending(worker)\n    execute([job, decreasePending])\n  }\n\n  return worker\n}\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/worker/poll.js","import { asyncCall } from '../lib'\n\nexport function sleep(worker, next) {\n  if (worker.continue)\n    worker.next = asyncCall(next, worker.sleep, [worker])\n  return worker\n}\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/worker/sleep.js","import { cleanup } from './cleanup'\nimport { poll } from './poll'\nimport { sleep } from './sleep'\n\nexport function start(worker) {\n  return sleep(cleanup(poll(worker)), start)\n}\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/worker/start.js","import { clearNext } from './clearNext'\nimport { discontinue } from './discontinue'\n\nexport function stop(worker) {\n  return discontinue(clearNext(worker))\n}\n\n\n\n// WEBPACK FOOTER //\n// src/orderly/worker/stop.js","/**\n * FastPriorityQueue.js : a fast heap-based priority queue  in JavaScript.\n * (c) the authors\n * Licensed under the Apache License, Version 2.0.\n *\n * Speed-optimized heap-based priority queue for modern browsers and JavaScript engines.\n *\n * Usage :\n         Installation (in shell, if you use node):\n         $ npm install fastpriorityqueue\n\n         Running test program (in JavaScript):\n\n         // var FastPriorityQueue = require(\"fastpriorityqueue\");// in node\n         var x = new FastPriorityQueue();\n         x.add(1);\n         x.add(0);\n         x.add(5);\n         x.add(4);\n         x.add(3);\n         x.peek(); // should return 0, leaves x unchanged\n         x.size; // should return 5, leaves x unchanged\n         while(!x.isEmpty()) {\n           console.log(x.poll());\n         } // will print 0 1 3 4 5\n         x.trim(); // (optional) optimizes memory usage\n */\n\"use strict\";\n\nvar defaultcomparator = function (a, b) {\n    return a < b;\n};\n\n// the provided comparator function should take a, b and return *true* when a < b\nfunction FastPriorityQueue(comparator) {\n    if (!(this instanceof FastPriorityQueue)) return new FastPriorityQueue(comparator);\n    this.array = [];\n    this.size = 0;\n    this.compare = comparator || defaultcomparator;\n}\n\n\n// Add an element the the queue\n// runs in O(log n) time\nFastPriorityQueue.prototype.add = function (myval) {\n    var i = this.size;\n    this.array[this.size] = myval;\n    this.size += 1;\n    var p;\n    var ap;\n    while (i > 0) {\n        p = (i - 1) >> 1;\n        ap = this.array[p];\n        if (!this.compare(myval, ap)) {\n             break;\n        }\n        this.array[i] = ap;\n        i = p;\n    }\n    this.array[i] = myval;\n};\n\n// replace the content of the heap by provided array and \"heapifies it\"\nFastPriorityQueue.prototype.heapify = function (arr) {\n    this.array = arr;\n    this.size = arr.length;\n    var i;\n    for (i = (this.size >> 1); i >= 0; i--) {\n        this._percolateDown(i);\n    }\n};\n\n// for internal use\nFastPriorityQueue.prototype._percolateUp = function (i) {\n    var myval = this.array[i];\n    var p;\n    var ap;\n    while (i > 0) {\n        p = (i - 1) >> 1;\n        ap = this.array[p];\n        if (!this.compare(myval, ap)) {\n            break;\n        }\n        this.array[i] = ap;\n        i = p;\n    }\n    this.array[i] = myval;\n};\n\n\n// for internal use\nFastPriorityQueue.prototype._percolateDown = function (i) {\n    var size = this.size;\n    var hsize = this.size >>> 1;\n    var ai = this.array[i];\n    var l;\n    var r;\n    var bestc;\n    while (i < hsize) {\n        l = (i << 1) + 1;\n        r = l + 1;\n        bestc = this.array[l];\n        if (r < size) {\n            if (this.compare(this.array[r], bestc)) {\n                l = r;\n                bestc = this.array[r];\n            }\n        }\n        if (!this.compare(bestc, ai)) {\n            break;\n        }\n        this.array[i] = bestc;\n        i = l;\n    }\n    this.array[i] = ai;\n};\n\n// Look at the top of the queue (a smallest element)\n// executes in constant time\n//\n// Calling peek on an empty priority queue returns\n// the \"undefined\" value.\n// https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/undefined\n//\nFastPriorityQueue.prototype.peek = function () {\n    if(this.size == 0) return undefined;\n    return this.array[0];\n};\n\n// remove the element on top of the heap (a smallest element)\n// runs in logarithmic time\n//\n// If the priority queue is empty, the function returns the\n// \"undefined\" value.\n// https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/undefined\n//\n// For long-running and large priority queues, or priority queues\n// storing large objects, you may  want to call the trim function\n// at strategic times to recover allocated memory.\nFastPriorityQueue.prototype.poll = function () {\n    if (this.size == 0) \n        return undefined;\n    var ans = this.array[0];\n    if (this.size > 1) {\n        this.array[0] = this.array[--this.size];\n        this._percolateDown(0 | 0);\n    } else {\n        this.size -= 1;\n    }\n    return ans;\n};\n\n\n// recover unused memory (for long-running priority queues)\nFastPriorityQueue.prototype.trim = function () {\n    this.array = this.array.slice(0, this.size);\n};\n\n// Check whether the heap is empty\nFastPriorityQueue.prototype.isEmpty = function () {\n    return this.size === 0;\n};\n\n// just for illustration purposes\nvar main = function () {\n    // main code\n    var x = new FastPriorityQueue(function (a, b) {\n        return a < b;\n    });\n    x.add(1);\n    x.add(0);\n    x.add(5);\n    x.add(4);\n    x.add(3);\n    while (!x.isEmpty()) {\n        console.log(x.poll());\n    }\n};\n\nif (require.main === module) {\n    main();\n}\n\nmodule.exports = FastPriorityQueue;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/fastpriorityqueue/FastPriorityQueue.js\n// module id = 45\n// module chunks = 0","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/webpack/buildin/module.js\n// module id = 46\n// module chunks = 0"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;A;;;;;;;;;;;;;;;;AChEA;;;;;;;;;AACA;;;;;;;;;AACA;;;;;;;;;AACA;;;;;;;;;AACA;;;;;;;;;AACA;;;;;;;;;AACA;;;;;;;;;;;;;;;;;;;;ACNA;;;;;;;;;AACA;;;;;;;;;AACA;;;;;;;;;AACA;;;;;;;;;;;;;;;;;;;;ACHA;;;;;;;;;AACA;;;;;;;;;AACA;;;;;;;;;AACA;;;;;;;;;AACA;;;;;;;;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;;;;;;;;;;;;ACxBA;AAAA;AACA;AACA;;;;;;;;;ACFA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACzCA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;ACLA;AACA;AACA;AACA;;;AAAA;AACA;;;AACA;AACA;AAAA;AACA;AACA;AACA;;;;;;;;;;;AACA;AAAA;AACA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AACA;AADA;AAAA;AAAA;AACA;AADA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;;;AAqBA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AACA;;;;;;;;;AA9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;;AA+BA;;;;;;;;;;;;;;ACnJA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACNA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;;;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;;;;;;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACNA;AACA;;;AACA;;;AAYA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AADA;AACA;AADA;AACA;AADA;AAMA;AAAA;AACA;AAPA;AAQA;AAAA;AACA;AARA;AACA;AACA;AACA;AACA;;;;AAnCA;AACA;AADA;AAKA;AACA;AACA;AAPA;AASA;AACA;AACA;AA8BA;;;;;;;;;;;;;;;;;AC3CA;AACA;AACA;AACA;;;AAAA;AACA;AADA;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AADA;AACA;;;;;;;AACA;AACA;AA2CA;AACA;AACA;AACA;AApCA;AACA;AACA;AACA;AAkCA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AA9BA;AACA;AACA;AACA;AAtBA;AACA;AACA;AACA;;;AA+CA;AAAA;AACA;AAAA;AACA;;;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;;;;;;AA7FA;AAOA;AACA;AACA;AACA;AAVA;AAAA;AAAA;AACA;AADA;AAyBA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlCA;AAoCA;AACA;AACA;AAtCA;AAwCA;AACA;AACA;AACA;AAqDA;;;;;;;;;;;;ACvGA;AAAA;AAAA;AACA;AAAA;AACA;;;;;;;;;;;;ACGA;AACA;AANA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;;;;;;;;;;;;ACPA;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;;;;;;;;;;;;ACFA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;;;;;;;;;;;;ACFA;AACA;;;AADA;AAAA;AACA;AAAA;AACA;;;;;;;;;;;;ACFA;AAAA;AACA;AACA;;;;;;;;;;;;ACFA;AAAA;AACA;AACA;;;;;;;;;;;;;;;ACFA;AAAA;AACA;AACA;;;;;;;;;;;;ACFA;AAAA;AACA;AACA;;;;;;;;;;;;ACAA;AACA;AAHA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACrBA;AAAA;AACA;AACA;AACA;;;;;;;;;;;;ACAA;AACA;AAJA;AACA;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACLA;AAAA;AACA;AACA;;;;;;;;;;;;ACAA;AACA;AAHA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACDA;AACA;AAJA;AACA;;;AAAA;AACA;;;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AAAA;AACA;AACA;;;;;;;;;;;;ACFA;AAAA;AACA;AACA;;;;;;;;;;;;ACAA;AACA;AAHA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACFA;AACA;AAHA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACLA;AAAA;AACA;AACA;AACA;;;;;;;;;;;;ACHA;AAAA;AACA;AACA;AACA;;;;;;;;;;;;ACAA;AACA;AAJA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AACA;;;;;;;;;;;;ACLA;AAAA;AACA;AACA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;ACHA;;;;;;;;;AACA;;;;;;;;;AACA;;;;;;;;;;;;;;ACFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;;;;;;;;;;;;ACHA;AACA;AANA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACZA;AACA;AAHA;AACA;AACA;AACA;AAEA;AACA;;;;;;;;;;;;ACFA;AACA;AALA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACHA;AACA;AAJA;AACA;AAAA;AACA;AACA;AACA;AACA;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACvLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;A","sourceRoot":""}